# Features

Rework extension directive handling in the composition & gateway. Previously, the composition and gateway would try to load the manifest.json (generated by `grafbase extension build`) at the URLs pointed by the `@link` directives. Thus today the platform required them to be publicly available.

So we reworked this system to treat all `file://*` and `https://grafbase.com/extension` links as extensions. Everything else will be treated like arbitrary `@link`s and [`@composeDirective`](https://grafbase.com/docs/federation/graphql-directives#composedirective) must be used to keep the directives inside the federated schema.

You can associate your extension with those `@link`s by adding the following in your `extension.toml`:

```toml
# or `authorization.directives` for authorization extensions.
[contracts.directives]
link_urls = ["https://example.com/tag"]
```

More details in our [doc](https://grafbase.com/docs/gateway/extensions/composition).

Note: resolver extensions are special, either use a `file://*` link or use your custom `https://grafbase.com/extension/<my-extension-name>` URL. Neither composition, nor the gateway verify what this URL points to, we rely only on the `my-extension-name` extracted following the [link spec](https://specs.apollo.dev/link/v1.0/)
